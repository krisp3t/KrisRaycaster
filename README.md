# KrisRaycaster
Raycaster 3D renderer (Wolfenstein 3D style) for STM32 embedded platform. The aim of the project is to play around with 1990's rendering techniques in an environment that has very limited resources.

Uses TouchGFX on STM32 and SDL2 on desktop to send pixels to screen.

# Preview
[![3D Raycaster Engine on STM32 | 1MB RAM, 60 FPS (STM32H750B-DK)](https://img.youtube.com/vi/vQCsKNYGYew/0.jpg)](https://www.youtube.com/watch?v=vQCsKNYGYew)

[YouTube: 3D Raycaster Engine on STM32 | 1MB RAM, 60 FPS (STM32H750B-DK)](https://www.youtube.com/watch?v=vQCsKNYGYew)

# Compatibility
Tested on STM32H750-DK (480 MHz, 480x272 LCD-TFT, 1MB RAM). It also has DMA2D capabilities for HW acceleration.
I don't have access to any other boards, so support may vary.

# Build
## STM32
Open the `TouchGFX` folder in `src/stm32-touchgfx` directory. Open `KrisRaycaster.touchgfx` and TouchGFX will automatically generate missing files (drivers, HAL, autogenerated files).
You can open the simulator build in `simulator/msvs/Application.vcxproj` with Visual Studio for faster development.
To flash the app on your board, open the project in TouchGFX Designer (you should see GameScreen) and flash it from there.

## Desktop
This project uses `vcpkg` toolchain to manage dependencies (SDL2) and `CMake` as a build system.

If you have `vcpkg` installed already, you can use the global path as your `VCPKG_ROOT` in `CMakeUserPresets.json`. Otherwise, the git submodule will be used.

Make sure to clone the repository with: `git clone --recursive`. If you have already cloned the project, run `git submodule update --recursive --remote`.

The project uses `ninja` generator. It should automatically be found when using IDEs such as Visual Studio and CLion. When using VSCode on Windows, you might have to install it (`choco install ninja`) and make sure it's in the PATH.
